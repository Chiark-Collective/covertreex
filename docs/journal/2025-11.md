# Journal — November 2025

This monthly log stitches together the dated updates that were previously embedded throughout the residual metric notes, implementation plans, and regression write-ups. Each subsection lists the original source so you can jump to the full context if needed.

## 2025-11-12 — Residual Dense Baseline Regression

- Source: [`journal/2025-11-12_residual_dense_regression.md`](2025-11-12_residual_dense_regression.md) (migrated from `docs/RESIDUAL_REGRESSION_20251112.md`).
- Dense residual builds regressed from **≈83 s** to **>2 h** between commits `48334de` and `5030894`.
- Action items: freeze new feature work, bisect to find the offending commit, restore the per-batch semisort and traversal timings (<50 ms) before touching Phase 5 again, and re-tag the baseline once fixed.

## 2025-11-12 — Phase‑5 Shakedown Guardrails

- Source: `docs/residual_metric_notes.md` (“Status snapshot” and “Regression snapshot” sections).
- 4 k Hilbert presets must hit ≥0.95 whitened coverage, `<1 s` semisort, and a non-zero gate prune count before any 32 k reruns.
- The November 12 32 k sweep (`residual_phase05_hilbert.jsonl`) took ~2 h traversal with `traversal_gate1_pruned=0`; archive such runs and treat them as failure cases.
- Action item captured under [`BACKLOG.md`](../BACKLOG.md#residual-metric-guardrails): block 32 k residual experiments until the small-shakeout criteria pass.

## 2025-11-09 — Gate‑1 Lookup Experiments

- Source: `docs/residual_metric_notes.md` (“Gate‑1 Experiments (2025‑11‑09 evening)”).
- Audit mode tripped immediately (even with margin 0.5), and turning audit off led to 30 s semisort pulses plus only ~1.4 % pruning.
- Dense traversal ignores the lookup entirely; sparse traversal still spends ~31 s per batch because semisort dominates.
- Follow-up: regenerate lookup data from 32 k artefacts and fix sparse traversal before enabling Gate‑1 by default.

## 2025-11-09 — Residual Grid Scale Sweep

- Source: `docs/residual_metric_notes.md` (“Observations” table).
- Varying `COVERTREEX_RESIDUAL_GRID_WHITEN_SCALE` between 0.75 and 1.5 barely moved traversal time (~0.7 s per dominated batch) even though leader telemetry changed, confirming traversal—not the grid builder—is the limiter.
- Keep the grid path for determinism but focus optimisation time on traversal caching, scope trimming, and gating.

## 2025-11-10 — Sparse Streamer Benchmarks

- Source: `docs/RESIDUAL_PCCT_PLAN.md` (“Current State” and “Recent Experiments”).
- Dense control `pcct-20251110-105043-101bb9`: 257 s build / 0.027 s query; sparse streamer `pcct-20251110-105526-68dddf`: 493 s build with 48/64 batches saturating the 8 192 scan cap.
- Lookup refresh (`pcct-20251110-112936-0d2a25`) and audit (`pcct-20251110-112456-69dfdd`) logged zero prunes, reinforcing that the lookup is safe but not yet beneficial.

## 2025-10-30 — Async Neighbor Refresh Sketch

- Source: `notes/cover_tree_async_extension_2025-10-30.md`.
- Motivation: LBFGS epochs block on synchronous neighbor recomputations (~0.8–0.9 s build + query per epoch at 8 k–32 k).
- Proposed fixes: cache neighbour graphs, add `max_epochs_between_refresh`, and introduce an asynchronous rebuild worker with configurable timeouts.
